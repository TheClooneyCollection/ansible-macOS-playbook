---
- name: Install Homebrew Casks
  homebrew_cask:
    name: "{{ item }}"
    state: present
  become: "{{ (homebrew_user != ansible_user_id) | bool }}"
  become_user: "{{ homebrew_user }}"
  loop:
    # macOS must-haves
    - 1password
    # - 1password-cli
    - dropbox
    - firefox
    - sublime-text
    - obsidian
    # - little-snitch

    # work
    # - zoom
    # - slack
    # - docker
    # - jq

    # life
    - whatsapp

    # macOS quality of life improvements
    - alfred
    - jordanbaird-ice # open source menu bar management
    - caffeine
    - istat-menus
    - iterm2
    - moom

    # 3d modeling & printing
    # - autodesk-fusion
    # - bambu-studio

    - vlc

    # misc
    # - protonvpn
    # - parsec

  tags:
    - homebrew
    - casks

- name: Install gaming casks
  homebrew_cask:
    name: "{{ item }}"
    state: present
  become: "{{ (homebrew_user != ansible_user_id) | bool }}"
  become_user: "{{ homebrew_user }}"
  loop:
    - discord
    - steam
  when: install_gaming_casks
  tags:
    - homebrew
    - casks
    - gaming

- name: Install streaming/recording casks
  homebrew_cask:
    name: "{{ item }}"
    state: present
  become: "{{ (homebrew_user != ansible_user_id) | bool }}"
  become_user: "{{ homebrew_user }}"
  loop:
    - obs
    - audio-hijack
    - loopback
    # - elgato-stream-deck
  when: install_streaming_casks
  tags:
    - homebrew
    - casks
    - streaming
